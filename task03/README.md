# Общее
Это домашнее задание состоит из трёх задач, которые оцениваются независимо друг от друга.

Каждая задача оценивается в 1.5 балла, из них 50% вы получаете за корректность и ещё 50% за стиль кода.

# Задача 1: Переводчик
Напишите скрипт, который с помощью Яндекс.Переводчика заданное количество раз переводит введённый русский текст на случайные языки по цепочке, а затем обратно на русский.

## Скрипт
Скрипт с именем `translator.py` запускается с двумя параметрами командной строки - N и API_KEY - количеством переводов в цепочке и путём к файлу с ключом API переводчика, соответственно.

Скрипт должен:
  1. Считать из стандартного потока ввода текст на русском языке (в первой и единственной строчке)
  2. Текст перевести на случайный язык, результат снова перевести на случайный язык, и так N раз
  3. Перевести результат обратно на русский
  4. Результат вывести в стандартный поток вывода
  
## Пример
```
./translator.py 3 apikey.txt
```
  
**Ввод**:
  
```
Буря мглою небо кроет, вихри снежные крутя
```
  
**Вывод**:
  
```
Туман шторма неба скрывает, блеск закручивая Вортекса
```

Здесь последовательность переводов могла быть такой:
  1. Русский-английский: `Storm sky mist conceals, snow spinning vortices`
  2. Английский-эсперанто: `Ŝtormo ĉielo nebulo kaŝas, neĝo ŝpinita vortices`
  3. Эсперанто-финский: `Myrsky taivas sumu kätkee, lumi spinning pyörteet`
  4. Финский-русский: `Туман шторма неба скрывает, блеск закручивая Вортекса`
  
## Подробнее
- Случайные языки нужно выбирать из всех языков, на которые умеет переводить переводчик в русском интерфейсе (список нужно получить здесь: https://tech.yandex.ru/translate/doc/dg/reference/getLangs-docpage/)
- Для перевода потребуется API Яндекс.Переводчика: https://tech.yandex.ru/translate/
- Нужно будет создать ключ разработчика и указать его в запросе: https://tech.yandex.ru/translate/doc/dg/reference/translate-docpage/
- Ключ **запрещается** хранить в коде. Положите его в файлик рядом и считайте ключ из файла при запуске, указав путь к нему аргументом
- Для запросов рекомендуется использовать библиотеку `requests`

## Тесты
Для тестирования требуется создать отдельный файл `test_translator.py`, содержащий хотя бы один тест, целиком тестирующий весь скрипт.
Проверьте, что скрипт возвращает текст, содержащий русские символы.

В автоматическом тесте попросите скрипт использовать ключ из файла `yandex-translator-test-key.txt`.

## Требования к корректности решения
Если присланные файлы не соответствуют хотя бы одному из условий ниже,
решение считается некорректным и оценивается в 0 баллов:

- Должны отсутствовать синтаксические ошибки для Python 3
- `pycodestyle` при запуске без флагов не должен выдавать ошибок и предупреждений
- Ваши автоматические тесты должны корректно отрабатывать на компьютере с доступом в интернет, и не проходить в отсутствие интернета
- Запрещается использовать готовые библиотеки для прямой работы с API Яндекс.Переводчика вроде `yandex-translater`
- В письме **не должно быть** файла с вашим ключом для API, мы используем свои

# Задача 2: Титаник
На сайте [Kaggle](https://www.kaggle.com/c/titanic/data) есть данные (dataset) о пассажирах на рейсе корабля "RMS Titanic" (номер билета, пол, возраст, выжил ли пассажир и т.д.).
Вам требуется скачать себе train set и, используя библиотеку [`pandas`](https://pandas.pydata.org/), посчитать некоторую статистику.

## Скрипт
Скрипт с именем `titanic_statistics.py` получает в качестве единственного параметра командной строки имя `.csv` файла c данными.
Требуется, используя библиотеку [`pandas`](https://pandas.pydata.org/) вывести в стандартный поток вывода
описанные выше величины, по одной на строке.

- Количество мужчин-пассажиров младше тридцати лет (целое число)
- Количество выживших мужчин младше тридцати лет (целое число)
- Суммарная стоимость (`Fare`) билетов всех женщин на борту (десятичная дробь)
- Средний возраст пассажиров, **чей возраст есть в данных** (десятичная дробь)
- Средний возраст выживших пассажиров, **чей возраст есть в данных** (десятичная дробь)

## Пример
(опущены неиспользуемые столбцы)

| Survived | Sex | Age | Fare |
|---|---|---|---|
| 1 | Female | 23 | 65.7 |
| 0 | Male   | 27 | 42.2 |
| 1 | Male   | 35 | 70.05 |
| 1 | Male   | 22 | 42.2 |
| 0 | Female |    | 65.0 |

Для данных выше корректный ответ (c поправкой на разумные погрешности вычислений с плавающей точкой):

| Величина | Значение |
|-------------------------------------------------------------|---|
| Количество мужчин-пассажиров младше тридцати лет. | 2 |
| Количество выживших мужчин младше тридцати лет. | 1 |
| Суммарная стоимость (`Fare`) билетов всех женщин на борту. | 130.7 |
| Средний возраст пассажиров, **чей возраст есть в данных**. | 26.75 |
| Средний возраст выживших пассажиров, **чей возраст есть в данных**. | 26.666666666666668 |

## Подробнее
Данные загружаются вручную. В задании **не** требуется загружать файл скриптом.

Вся необходимая информация о библиотеке `pandas` есть на [официальном сайте](https://pandas.pydata.org/).

## Тесты
В этом задании (Титаник) автоматические тесты не требуются.

## Требования к корректности решения
Если присланные файлы не соответствуют хотя бы одному из условий ниже,
решение считается некорректным и оценивается в 0 баллов:

* Должны отсутствовать синтаксические ошибки для Python 3
* `pycodestyle` при запуске без флагов не должен выдавать ошибок и предупреждений
* Запрещается использовать циклы, а также стандартные функции вроде `filter` и `map`
* Открытие файла с данными производится с использованием `pandas`
* Для вычисления величин использутся возможности `pandas`

# Задача 3: Генератор мемов
Нужно сгенерировать [мем](https://memepedia.ru/boromir/): поместить на заданную картинку заданный текст, используя библиотеку [`OpenCV`](https://pypi.org/project/opencv-python/).

## Скрипт
- Скрипт с именем `meme_generator.py` считавает из стандартного потока ввода две строки: верхний и нижний текст, соответственно.
- Скрипт берет картинку из файла `image.jpg`, помещает верхний текст в верхнюю четверть картинки, а нижний - в нижнюю четверть картинки.
- Результат сохраняется в файл `out.jpg`.

### Лирическое отступление
Вообще говоря, библиотека Pillow подходит для этой задачи больше, но там потенциально
больше проблем со шрифтами и воспроизводимостью, так что мы выбрали OpenCV.

## Пример
Пример выполнения скрипта:
```
~$./meme_generator.py
Paradigms
PARADIGMS EVERYWHERE
~$
```

![](/task03/meme-aligned.jpg?raw=true)

## Подробнее
- Каждая строчка состоит только из латинских букв и пунктуации, имеет длину не более 20 символов.
- Для размещения текста на картинке рекомендуется использовать функцию `cv2.putText`.
- Текст должен быть белым (`#ffffff`) с черной (`#000000`) обводкой; обводку можно проэмулировать, меняя толщину шрифта.
- Картинка на входе имеет размер хотя бы 800x450 пикселей.
- Любое сочетание из корректных строчек должно целиком помещаться на картинке минимального разрешеия.
- Подстраивать размер шрифта под разрешение картинки не требуется, разрешается использовать шрифт, как на минимальной картинке.
- Можно использовать любой доступный в OpenCV шрифт.
- Толщина шрифта может быть любой, но текст должно быть реально прочитать.
- Обе строки должны быть горизонтально и вертикально выровнены по центру в своей четверти (с учётом всех выступающих элементов).
  В частности, при вводе строки `Wording` расстояние от верхний и нижней границ четверти до крайних по вертикали
  точек букв `W` и `g` должно быть одинаковым.
- Требуется, чтобы вертикальная координата baseline текста всегда оставалась на одном месте (для картинок одинакового разрешения).
  Другими словами, если набрать текст другим регистром, он не должен "поехать".
  В частности, у слов `WORDING` и `Wording` буква `W` должна располагаться в одном и том же месте,
  даже несмотря на фактическое отсутствие у `WORDING` выступающих вниз символов - это может немного сместить слово
  вверх относительно "реального" центра.

## Тесты
В этом задании (Генератор мемов) автоматические тесты не требуются.

## Требования к корректности решения
Если присланные файлы не соответствуют хотя бы одному из условий ниже,
решение считается некорректным и оценивается в 0 баллов:

* Должны отсутствовать синтаксические ошибки для Python 3
* `pycodestyle` при запуске без флагов не должен выдавать ошибок и предупреждений
* Манипуляции с изображением производятся с помощью библиотеки OpenCV

# Формат сдачи
* К письму прикрепите файлы `translator.py`, `test_translator.py`, `titanic_statistics.py`, `meme_generator.py`
  или какое-то их подмножество
* Запрещается добавлять код на верхний уровень всех файлов, за исключением объявлений процедур, функций, констант и импортов

# Сроки сдачи
|   | `18.Б09-пу` | `18.Б10-пу` |Максимальное количество баллов при сдаче в срок
|---|---|---|---|
|Дата выдачи|Четверг, 28.02.2019|Четверг, 28.02.2019|   |
|Мягкий дедлайн|Четверг, 07.03.2019, 22:59|Четверг, 07.03.2019, 22:59|4.5|
|Жёсткий дедлайн|Четверг, 14.03.2019, 22:59|Четверг, 14.03.2019, 22:59|2.25|
