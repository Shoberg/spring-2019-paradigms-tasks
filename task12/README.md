# Содержание
1. [Содержание](#содержание)
1. [Общее](#общее)
1. [Задание](#задание)
    1. [Подробнее](#подробнее)
    1. [Тесты](#тесты)
1. [Советы](#советы)
1. [Требования к корректности решения](#требования-к-корректности-решения)
1. [Формат сдачи](#формат-сдачи)
1. [Сроки сдачи](#сроки-сдачи)

# Общее

В этом домашнем задании вам предлагается познакомиться с декларативным языком SQL,
предназначенным для работы с системами управления базами данных (СУБД).
Вам предлагается несколько независимых задач, в которых потребуется
реализовать SQL-запросы для анализа данных.

Все задачи оцениваются независимо, баллы за каждую задачу варьируются,
максимальный балл за задачу указан в описании задачи, из него 50% вы получаете
за корректность и 50% за стиль.

# Задание
В этой папке лежит файл `literacy.sql`, в котором находится
схема БД и исходные данные.

Также здесь находятся девять файлов (`01.sql`, ..., `09.sql`), по одному на каждую задачу.
В каждой задаче требуется реализовать ровно один `SELECT`-запрос,
описание запроса находится в комментарии в начале файла.
Завершайте запрос единственной точкой с запятой.

Строго следуйте формату: порядок сортировки, порядок столбцов и данные в столбцах.
Имена столбцов неважны.

## Подробнее
Для проверки каждого запроса будет использоваться СУБД `sqlite3`, в которой
выполнили запросы из файла `literacy.sql`, создающие таблицы (`CREATE TABLE`)
и заполняющие их данными (`INSERT INTO`).

Обратите внимание, что команды в `literacy.sql` полностью удаляют старые
таблицы и создают их с нуля, так что если вы случайно что-то поменяли в вашей БД,
вы можете выполнить команды из `literacy.sql` ещё раз и таблицы будут приведены
в исходное состояние.

Всего создаётся четыре таблицы, описывающие некоторые страны,
города, и исторические уровни грамотности в этих странах.
Как это бывает в реальном мире, данные могут быть неполные,
противоречивые и содержащие странные текстовые значения,
предназначенные для людей, а не программистов и скриптов
(например, форма правления "Dependent Territory of the UK").

* Таблица `Country` – информацию по странам
  * `Code` – уникальный трёхбуквенный код страны, _первичный ключ_ таблицы
  * `Name` – название страны
  * `SurfaceArea` – площадь страны в квадратных километрах
  * `Population` – население страны
  * `GovernmentForm` – форма правления
* Таблица `City` – информация по городам
  * `Id` – уникальный (в пределах базы данных) код города, _первичный ключ_ таблицы
  * `Name` – название города (латиницей)
  * `CountryCode` – _внешний ключ_ для страны, в которой расположен город (т.е. значения этого поля совпадают со значениями `Country.Code`)
  * `Population` – население города
* Таблица `Captial` – таблица связей "страна-столица", одна строчка – одна столица
  * `CityId` – _внешний ключ_ для города, который является столицей
  * `CountryCode` – _внешний ключ_ для страны, у которой указана столица
* Таблица `LiteracyRate` – таблица с исторической информацией про уровни грамотности
  * `CountryCode` – _внешний ключ_ для страны
  * `Year` – год, за который есть данные
  * `Rate` – уровень грамотности населения в процентах

Вы можете проэмулировать проверку задачи 1 при помощи следующих команд:
```
sqlite3 literacy.sqlite3 < literacy.sql
sqlite3 literacy.sqlite3 < 01.sql
```

Здесь первый параметр команды `sqlite3` – имя файла, в котором `sqlite3`
будет хранить базу данных, а `< literacy.sql` – перенаправление содержимого
файла `literacy.sql` на стандартный ввод консольной команды `sqlite3`,
которая выполняет SQL-запросы.

## Тесты

В этом задании автоматические тесты не требуются.

# Советы
* Напоминаем, что для получения зачёта по теме вам достаточно получить корректность
  всего по одной задаче.
  Если у вас уже достаточно баллов по предыдущим домашним заданиям,
  это может оказаться выгодной стратегией для получения зачёта.
* Задания не отсортированы по сложности.
  Более того – сложность не обязательно коррелирует с баллами за задание.
* sqlite не отслеживает ошибки типов и некоторые неопределённые запросы.
  Даже если запрос выдал корректный ответ, это может оказаться случайным
  результатом неопределённого поведения.
  Например, конструкция вроде `HAVING MAX(a)` делает непонятно что
  (потому что `HAVING` требует булевское условие, а `MAX(a)` просто
  выдаст максимальное значение `a`), но sqlite её съест и не подавится.
* Особое внимание обратите на потенциальные `NULL`-значения и `COUNT()`.
  Если не учесть, можно случайно написать запрос, который выдаст почти правильный ответ.
* Данные старые и неидеальные, ответы на некоторые запросы могут быть странными.

# Требования к корректности решения

Если присланные файлы не соответствуют хотя бы одному из условий ниже, решение считается некорректным и оценивается в 0 баллов:

* Изменяются только файлы `01.sql`, ..., `09.sql`

Для каждой задачи должно быть верно как минимум следующее:

* В соответствующем файле `??.sql` находится ровно один `SQL`-запрос,
  не изменяющий базу данных и завершающийся точкой с запятой
* Комментарий в файле оставлен без изменений и находятся в начале файла
* Запрос выводит только те столбцы и строки, которые требуются в задании.
  Порядок важен и для столбцов, и для строк, и прописан в каждом задании.
* Запрос выдаёт правильный ответ при запуске в SQLite на базе данных,
  создаваемой запросами из `literacy.sql`

# Формат сдачи
Если возникают **любые** непонятки с форматом сдачи (даже простые и мелкие) - пишите преподавателю!
Мы не хотим, чтобы вы не сдали просто потому что кто-то не очень хорошо рассказал Git или дал мало практики :)

Требования стандартные (см. task08), название для pull request: `Task12, GroupXX, Фамилия Имя`.

# Сроки сдачи
|   | `18.Б09-пу` | `18.Б10-пу` |Максимальное количество баллов при сдаче в срок
|---|---|---|---|
|Дата выдачи|13.05.2019|13.05.2019||
|Мягкий дедлайн|зачёт|зачёт|6|
|Жёсткий дедлайн|зачёт|зачёт|-|

В этом задании жёсткий дедлайн совпадает с мягким:
при сдаче в срок вы получаете полный балл.

Зачёт закончится не раньше 22.05.2019 15:30 (формальное время начала зачёта),
однако может закончиться раньше 22:59, потому что может быть надо физически
заполнить и отнести ведомости.
